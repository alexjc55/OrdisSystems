# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –Ω–µ–¥–∞–≤–Ω–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —É–¥–∞–ª–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î

### 1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞)
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
- **–¢–∞–±–ª–∏—Ü—ã**: `push_subscriptions`, `marketing_notifications`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å—Ç–æ—Ä–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 2. ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ –±–∞–Ω–Ω–µ—Ä–æ–≤
- **–°—Ç–∞—Ç—É—Å**: –£–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `add-multilingual-logo-fields.sql`
- **–ü–æ–ª—è**: logo_url_*, banner_image_url_*, cart_banner_image_*, pwa_icon_*
- **–Ø–∑—ã–∫–∏**: en, he, ar

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–°—Ç–∞—Ç—É—Å**: –ù–ï —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ë–î
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**: –¢–æ–ª—å–∫–æ JSON —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 
  - –ö–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥" –≤ –ø—Ä–æ—Ñ–∏–ª–µ (—É–±—Ä–∞–Ω –∞—Ä–∞–±—Å–∫–∏–π —Ç–µ–∫—Å—Ç –∏–∑ —Ä—É—Å—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞)
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–¥–æ–±–∞–≤–ª–µ–Ω—ã "updated", "updateSuccess" –≤–æ –≤—Å–µ —è–∑—ã–∫–∏)

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –î–ª—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (–ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞):

1. **–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞**: `migrations/0000_cheerful_spectrum.sql`
2. **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è**: `migrations/add-multilingual-logo-fields.sql` 
3. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: `migrations/add-push-notifications-tables.sql`

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏):

```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã)
psql -U your_db_user -d your_database_name -f migrations/add-multilingual-logo-fields.sql

# 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
psql -U your_db_user -d your_database_name -f migrations/add-push-notifications-tables.sql
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
SELECT EXISTS (
   SELECT FROM information_schema.tables 
   WHERE table_schema = 'public' 
   AND table_name = 'push_subscriptions'
);

SELECT EXISTS (
   SELECT FROM information_schema.tables 
   WHERE table_schema = 'public' 
   AND table_name = 'marketing_notifications'
);
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª–µ–π –≤ store_settings
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'store_settings' 
AND column_name LIKE '%_en' OR column_name LIKE '%_he' OR column_name LIKE '%_ar';
```

## –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### 1. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump -U your_db_user -h localhost your_database_name > backup_before_push_migration_$(date +%Y%m%d_%H%M%S).sql
```

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server.com

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/your/project

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
psql -U your_db_user -d your_database_name -f migrations/add-push-notifications-tables.sql

# –ï—Å–ª–∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã:
psql -U your_db_user -d your_database_name -f migrations/add-multilingual-logo-fields.sql
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm install

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart your-app-name
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `/api/admin/push/stats` endpoint
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–µ–º
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö

## –ß—Ç–æ –ù–ï —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ë–î

1. **–ü–µ—Ä–µ–≤–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã JSON
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞** - —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã
3. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ë–î** - —Ç–æ–ª—å–∫–æ –∫–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

- ‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `IF NOT EXISTS` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üîÑ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏
- üìä **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

## –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

- ‚úÖ **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –Ω–∞ Replit
- ‚úÖ **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü–µ—Ä–µ–≤–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –í—Å–µ –∫–ª—é—á–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î**: –ì–æ—Ç–æ–≤—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π, —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –±—É–¥—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π eDAHouse —Å–æ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏.