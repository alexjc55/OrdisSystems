# ИСПРАВЛЕНИЕ КОНФИГУРАЦИИ ПОРТА

## Проблема
В файле `server/index.ts` был жестко задан порт 5000:
```typescript
const port = 5000;
```

Это вызывало конфликты при развертывании на VPS серверах, где требуется другой порт (например, 3000).

## Решение
Изменено на использование переменной окружения PORT:
```typescript
const port = parseInt(process.env.PORT || "5000", 10);
```

## Конфигурация портов

### Replit (.env)
```bash
PORT=5000
```

### VPS (.env.vps)  
```bash
PORT=3000
```

## Преимущества
- ✅ Гибкость: каждый сервер использует свой порт
- ✅ Совместимость: работает на Replit и VPS
- ✅ Конфигурируемость: порт задается через переменную окружения
- ✅ Безопасность: нет конфликтов портов при развертывании

## Влияние на развертывание
- **Replit**: продолжает использовать порт 5000 (без изменений)
- **VPS**: теперь может использовать порт 3000 или любой другой
- **PM2 конфигурация**: автоматически подхватывает PORT из .env
- **Nginx**: проксирует на правильный порт из переменной окружения

## Дата исправления
13 января 2025, 10:20 AM