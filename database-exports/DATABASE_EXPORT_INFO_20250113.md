# База данных eDAHouse - Экспорт от 13 января 2025

## Информация об экспорте

- **Дата экспорта**: 13 января 2025, 10:11
- **Размер файла**: 79,846 байт (1,365 строк)
- **Тип экспорта**: Полный дамп PostgreSQL с данными
- **Версия PostgreSQL**: 16.9

## Файлы экспорта

### 1. `complete_database_dump_20250113.sql`
- **Назначение**: Полный экспорт всей базы данных
- **Содержимое**: Структура таблиц + все данные
- **Совместимость**: PostgreSQL 13+
- **Опции**: --clean --if-exists (безопасный импорт)

### 2. `full_database_export_20250113.sql`
- **Назначение**: Ручная структура таблиц (неполная)
- **Статус**: Неполный, используйте complete_database_dump_20250113.sql

## Содержимое базы данных

### Таблицы и количество записей:
- **Categories**: 6 записей (категории продуктов)
- **Products**: 52 записи (товары)
- **Users**: 6 записей (пользователи)
- **Orders**: 21 запись (заказы)
- **Themes**: 1 запись (темы оформления)
- **Store_settings**: 1 запись (настройки магазина)
- **Sessions**: переменное количество (сессии пользователей)
- **Push_subscriptions**: подписки на уведомления
- **Marketing_notifications**: маркетинговые уведомления
- **User_addresses**: адреса пользователей
- **Order_items**: элементы заказов
- **Product_categories**: связи продукт-категория

## Особенности схемы

### Многоязычность
База данных поддерживает 4 языка:
- **Русский** (по умолчанию)
- **Английский** (_en)
- **Иврит** (_he) 
- **Арабский** (_ar)

### Мультиязычные поля:
- `name`, `name_en`, `name_he`, `name_ar`
- `description`, `description_en`, `description_he`, `description_ar`
- Настройки магазина: `store_name_*`, `welcome_title_*`, etc.

### Системы управления:
- **Темы оформления**: полная настройка цветов и стилей
- **Push-уведомления**: система маркетинговых уведомлений
- **Роли пользователей**: admin, worker, customer
- **Управление заказами**: статусы, скидки, отмены

## Инструкции по импорту

### На новый сервер:
```bash
# Создать базу данных
createdb edahouse_new

# Импортировать данные
psql -d edahouse_new -f complete_database_dump_20250113.sql
```

### На существующий сервер (осторожно!):
```bash
# Создать резервную копию
pg_dump -d existing_db > backup_before_import.sql

# Импорт (удалит существующие данные!)
psql -d existing_db -f complete_database_dump_20250113.sql
```

## Изменения от предыдущих версий

### Новое в этой версии:
- Полная система переводов для управления темами
- Исправлены все недостающие ключи переводов
- Обновлены секции statusLabels и neutralLabels
- Добавлены ключи creating, loading, deleteConfirmation
- Исправлены названия иконок с суффиксами IconColor

### Структура БД не изменялась:
- Никаких новых таблиц или полей
- Изменения только в файлах переводов (клиентская часть)
- Безопасно для обновления без миграций

## Техническая информация

- **Кодировка**: UTF8
- **Формат дампа**: SQL с DROP IF EXISTS
- **Ограничения**: Включены все FK constraints
- **Индексы**: Включены все индексы
- **Триггеры**: Включены (если есть)

## Контактная информация

При возникновении проблем с импортом обращайтесь к системному администратору.